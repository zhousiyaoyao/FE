# 目录
* [对称加密，非对称加密，CA](#对称加密，非对称加密，CA)
* [HTTP握手和分手](#HTTP握手和分手)
* [HTTPS握手](#HTTPS握手)
* [TCP，UDP](#TCP，UDP)
* [TCP拥塞控制](#TCP拥塞控制)
* [OSI七层模型和TCP/IP模型](#OSI七层模型和TCP/IP模型)
* [HTTP请求](#HTTP请求)
* [前端安全](#前端安全)


### 对称加密，非对称加密，CA
1. 对称加密，双方使用同一个秘钥对数据进行加密和解密。密钥泄露就无作用了
2. 非对称加密，有一个公钥一个私钥，可以互相解密。加密过程很慢
3. 常用做法，用非对称加密的方法对对称加密的密钥进行传输，以后的通信用对称加密的方法来加密。不安全之处中间人截取公钥，把自己的发给我们
4. 认证中心：使用hash算法来对公钥加密形成摘要，CA用它的私钥对摘要加密，形成数字证书，客户端拿到证书，用同样的hash算法生成摘要，使用CA的公钥来对数字证书进行解密，对比看看数据是否被更改。

### HTTP握手和分手
1. TCP 3次握手（确保双方都有接受和发送的能力），发syn我想链接，收ack我同意了，发ack我收到了，开始发送
2. TCP 4次挥手（确保发送方已经发完，接受双方已经接受完），发fin我已经发完了，接ack我收到了，接ack和fin我也没东西发送了，发ack我收到了

### HTTPS握手
1. 客户端向服务器发起请求，包括生成的随机数
2. 服务器收到请求，给出服务器证书，和服务器生成的随机数
3. 客户端确认证书有效后，生成一个新的随机数，用公钥加密这个随机数，然后发给服务器，还要提供一个hash值
4. 服务器用自己的私钥，来解密客户端的随机数，并提供hash值来供客户端检验
5. 客户端和服务器用约定的加密方法使用前面的三个随机数，生成对话秘钥，以后用这个秘钥来加密信息

### TCP，UDP
1. TCP
* 面向连接
* 可靠传输，流量控制和拥塞控制
* 一对一通信
* 面向字节流
* 首部最小20字节，最大60字节
* 适用于要求可靠传输的应用，例如文件传输
2. UDP
* 无连接
* 不可靠传输，不使用流量控制和拥塞控制
* 一对一，多对多，一对多，多对一
* 面向报文
* 首部开销小，仅8字节
* 适用于实时应用，IP电话，视频会议，直播

### TCP拥塞控制
1. 慢启动，因为不知道网络拥塞程度，先低速率发送，每收到一个确定报文，发送窗口长度加一，每个RTT时间后，长度加倍，超过一个阀值，进入拥塞避免算法
2. 拥塞避免，每个RTT时间，长度只加1，来避免发送拥塞
3. 快速重传，收到3个冗余的确认应答时，发送所有已经发送但还没有接收到确认应答的报文段
4. 快速恢复，慢启动阀值减少到原来一半，将拥塞窗口的值设为减半后的阀值，然后开始拥塞避免


### OSI七层模型和TCP/IP模型
1. 应用层
* 应用层：文件传输，电子邮件，文件服务，虚拟终端，TFTP，HTTP，SNMP，SMTP，DNS，Telnet
* 表示层：数据格式化，代码转换，数据加密，无协议
* 会话层：解除或建立与别的接点的联系，无协议
2. 传输层：提供端对端的接口，TCP，UDP
3. 网络层：为数据包选择路由，IP，ICMP，RIP，OSPF，BGP，IGMP
4. 链路层
* 数据链路层：传输有地址的帧以及错误检测功能，SLIP，CSLIP，PPP，ARP，RARP，MTU
* 物理层：以二进制数据形式在物理媒体上传输数据，ISO2110，IEEE802，IEEE802.2

### HTTP请求
1. Head:检查超链接的有效性，检查资源的有效性，可被缓存，不返回消息体，获取请求中隐含的元信息。仅传输状态行和标题部分。这对于恢复相应头部编写的元数据非常有用，而无需传输整个内容
2. Options:CORS预检请求，对服务器数据可能产生副作用的请求方法（复杂请求），获知服务端是否允许跨域请求。发送请求内容类型不是application/x-www-form-urlencoded，multipart/formdata或text/plain的话，会触发options请求。措施，用qs序列化对象，或者URLSearchParams，emulateJSON。简单请求：HEAD，GET，POST

### 前端安全
1. Xss攻击
* Cross-site scripting，代码注入攻击，恶意代码嵌入，并被浏览器执行，注入html，注入标签属性，注入事件，注入css，注入js
* 存储型，存在数据库，论坛，评论，私信
* 反射型，存在url，网站搜索，跳转，用户点击恶意url
* DOM型，前端责任，插入在js
* 防范：Cookie设置httponly，输入检查，否则会被绕过直接发起请求，避免innerHTML，内联监听器少用，href
2. Csrf攻击
* Cross-site request forgery，跨站请求伪造
* 在不登出A的情况下，访问恶意网站B，B获取A的cookie，模拟用户操作
* 验证码，token（最合适方法）
