# 目录
* [浏览器缓存](#浏览器缓存)
* [跨域](#跨域)
* [事件循环](#事件循环)

### 浏览器缓存
1. 一段时间内保存web资源的副本，如果发送对这个资源的请求，会直接使用缓存副本，可以提高网页打开速度，减少带宽消耗
2. 强缓存，如果没过期，直接使用副本，不需要发请求
3. Expires，指定过期时间，服务器时间，所以可能服务器客户端时间不一致，http1.0的方式
4. Cache-Control，http1.1的方式，比expires优先级高，有不同的值，Max-age，相对的时间大小，Private，只能被客户端缓存，不能被代理服务器
No-store，资源不能缓存，No-cache，能缓存但立即失效
5. 协商缓存，向后台发请求，如果资源没更新，返回304
6. Last-modified，服务器在相应头添加，指出资源上一次修改时间，浏览器下一次发请求，会带上last-modified-since，为上一次服务器的返回值，通过这两个时间的对比，判断有没有发生更改。缺点只能精确到秒，毫秒内last-modified不变
7. Etag，用来唯一标志资源，用法同last-modified，只是请求带的是If-None-Match。优先级比last-modified高
8. 一般是一起合作，先判断强缓存，不命中看协商缓存，再不命中就返回资源。考虑负载平衡不要带etag，因为last-modified要保持一致，一般都对get进行缓存，post需要更改数据库，不能缓存

### 跨域
1. CORS，服务器端设置Access-Control-Allow-Origin
2. Jsonp，只限于get，因为js不会有跨域的限制

### 事件循环
1. Js是单线程运行，代码执行时押入执行栈中进行，先同步代码，遇到异步代码，把其回调放到其他任务队列，先执行同步代码，同步执行完毕，再看看这些任务队列有没有异步任务可以执行，有的话从其他任务队列加入当前执行栈
2. 有两个队列，微任务和宏任务，优先级是同步-微任务-宏任务，微任务的典型是promise的then，宏任务的典型是setTimeout，渲染，js脚本执行
promise会在本轮执行，setTimeout会在下一轮执行.第一次执行也是一个宏任务
